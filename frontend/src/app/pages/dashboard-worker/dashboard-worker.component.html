<div class="dashboard-container">
<h1 class="dashboard-title">Worker Dashboard</h1>
<p class="dashboard-subtitle">Welcome, {{ userName }}! Here are your active tasks.</p>
<div *ngIf="errorMessage" class="general-error-message">{{ errorMessage }}</div>
<div *ngIf="isLoading" class="loading-spinner">Loading your tasks...</div>
<div *ngIf="!isLoading && myTasks.length === 0 && !errorMessage" class="no-data">
You have no active tasks. Well done!
</div>
<div class="task-list" *ngIf="!isLoading && myTasks.length > 0">
<div class="task-card" *ngFor="let task of myTasks">
<div class="task-details">
<h4>{{ task.taskDescription }}</h4>
<p><strong>Crop:</strong> {{ task.cropId?.cropName || 'N/A' }}</p>
<p><strong>Due:</strong> {{ task.dueDate | date:'mediumDate' }}</p>
</div>
<div class="task-actions">
<button class="complete-button" (click)="markAsCompleted(task._id)">Mark as Completed</button>
</div>
</div>
</div>
</div>